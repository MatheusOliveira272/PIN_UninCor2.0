<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition template="../../template_aluno.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <ui:define name="titulo"> - Aluno</ui:define> 

    <ui:define name="conteudo" >
        <div class="card">
            <h:form>
                <p:growl id="growl" sticky="true" showDetail="true"/>
                <p:wizard widgetVar="wiz" >

                    <c:forEach items="#{beanRespostaAluno.questoes}" var="questao" varStatus="status" >
                        <p:tab title="Quest達o #{status.index + 1}">
                            <p:panel header="#{questao.enunciado}">
                                <p:messages/>
                                <h:panelGrid columns="1" columnClasses="label, value">

                                    <c:choose>
                                        <c:when test="#{questao.tipoQuestao}">
                                            <!-- <p:outputLabel value="Sou uma quest達o fechada"/>-->
                                            <c:forEach items="#{beanRespostaAluno.getAlternativasQuest達oFechada(questao)}" var="alternativa">


                                                <h:selectOneRadio id="respostaFechada" value="#{beanRespostaAluno.respQuestaoFechada}" layout="lineDirection" converter="respostaFechadaConverter">
                                                    <p:ajax event="change" listener="#{beanRespostaAluno.adicionaAlunoResposta(alternativa)}" />
                                                    <f:selectItem itemValue="#{alternativa}" itemLabel="#{alternativa.ordem}) #{alternativa.descricao}" />
                                                </h:selectOneRadio>


                                            </c:forEach>

                                        </c:when>
                                        <c:otherwise>
                                            <!--<p:outputLabel value="Sou uma quest達o aberta"/>-->
                                            <p:inputTextarea  />

                                        </c:otherwise>

                                    </c:choose >

                                </h:panelGrid>
                            </p:panel>
                        </p:tab>
                    </c:forEach>
                    <p:tab id="confirm" title="Confirmation">
                        <p:panel header="Confirmation">
                            <h:outputText value="Ddeseja enviar suas respostas?"/>
                        <br/>
                        <p:commandButton value="Enviar" action="#{beanRespostaAluno.salvaRespostasAluno()}" update="growl" process="@this"  styleClass="ui-button-secondary" />
                        </p:panel>


                    </p:tab>
                </p:wizard>


            </h:form>
        </div>
    </ui:define>


</ui:composition>
